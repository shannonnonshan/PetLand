<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Owner</title>
    <link rel="icon" href="/static/imgs/logo.jpg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/cssOwner/owner.layout.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="/css/tailwind.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    {{{_sections.css}}}
</head>
<body>
    <div class='dashboard'>
      <div class="dashboard-nav">
          <header><a href="#!" class="menu-toggle"><i class="fas fa-bars"></i></a><a href="#" class="brand-logo"><i
                  class="fas fa-anchor"></i> 
                  <span class="flex items-center gap-2">
                <img src="/static/imgs/logo.jpg" alt="Logo" class="tw-w-10 tw-h-10 tw-rounded-full">
                PETLAND
              </span>
              </a>
          </header>
          <nav class="dashboard-nav-list">
              <a href="/owner/home" class="dashboard-nav-item">
            `   <i class="bi bi-house"></i>
                Home 
              </a>
              <a href="#" class="dashboard-nav-item">
                <i class="bi bi-speedometer2 "></i> View Statis
              </a>
                <div class='dashboard-nav-dropdown'>
                <a href="/owner/manageService/shift" class="dashboard-nav-item dashboard-nav-dropdown-toggle">
                  <i class="bi bi-outlet"></i> Manage Service
                </a>
                <div class='dashboard-nav-dropdown-menu'>
                  <a href="/owner/manageService/shift" class="dashboard-nav-dropdown-item">Manage Shift</a>
                  <a href="/owner/manageService/booking" class="dashboard-nav-dropdown-item">Manage Booking</a>
                </div>
              </div>              
              <div class='dashboard-nav-dropdown'>
                <a href="#!" class="dashboard-nav-item dashboard-nav-dropdown-toggle">
                  <i class="bi bi-outlet"></i> Manage Pet
                </a>
                <div class='dashboard-nav-dropdown-menu'>
                  <a href="/owner/managePet/all" class="dashboard-nav-dropdown-item">All</a>
                  <a href="/owner/managePet/pending" class="dashboard-nav-dropdown-item">Pending Donation</a>
                  <a href="/owner/managePet/approved" class="dashboard-nav-dropdown-item">Approved Donation</a>
                  <a href="/owner/managePet/adopt_requested" class="dashboard-nav-dropdown-item">Adoption Request</a>
                  <a href="/owner/managePet/adopt_approved" class="dashboard-nav-dropdown-item">Adopting</a>
                  <a href="/owner/managePet/adopt_completed" class="dashboard-nav-dropdown-item">Completed</a>
                  <a href="/owner/managePet/rejected" class="dashboard-nav-dropdown-item">Rejected</a>
                  
                </div>
              </div>
              <form id="frmLogout" action="/user/logout" method="post"></form>
            <a id="btn-logout" href="javascript:void(0);" class="dashboard-nav-item"><i class="fas fa-sign-out-alt"></i> Logout </a>
          </nav>
      </div>
      <div class="dashboard-content">
        {{{body}}}
    </div>
  </div>
 <script>
  document.addEventListener('DOMContentLoaded', () => {
    const currentPath = window.location.pathname;
    document.querySelectorAll('.dashboard-nav-item, .dashboard-nav-dropdown-item').forEach(link => {
      const href = link.getAttribute('href');
      if (href && currentPath === href) {
        link.classList.add('active');

        // Nếu là item con trong dropdown
        const dropdownMenu = link.closest('.dashboard-nav-dropdown-menu');
        if (dropdownMenu) {
          dropdownMenu.classList.add('active'); // Hiện menu
          const parentDropdown = dropdownMenu.closest('.dashboard-nav-dropdown');
          parentDropdown.classList.add('show'); // Mở dropdown
        }
      }
    });
  });
</script>
<script>
        document.getElementById('btn-logout').addEventListener('click', function () {
            // Hiển thị SweetAlert2 để xác nhận logout
            Swal.fire({
                title: 'Are you sure?',
                text: "Do you really want to log out?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Yes, log me out!',
                cancelButtonText: 'No, keep me logged in',
                reverseButtons: true // Đảo vị trí các nút
            }).then((result) => {
                // Nếu người dùng chọn "Yes"
                if (result.isConfirmed) {
                    // Tự động gửi form logout
                    document.getElementById('frmLogout').submit();
                } else if (result.dismiss === Swal.DismissReason.cancel) {
                    // Nếu người dùng chọn "Cancel"
                    Swal.fire(
                        'Cancelled',
                        'You are still logged in.',
                        'info'
                    );
                }
            });
        });
    </script>
<script>
  document.querySelectorAll('.dashboard-nav-dropdown-toggle').forEach(toggle => {
    toggle.addEventListener('click', function (e) {
      e.preventDefault(); // Ngăn nhảy trang nếu có #
      const parent = this.parentElement;
      const menu = this.nextElementSibling;

      // Toggle trạng thái
      parent.classList.toggle('show');
      menu.classList.toggle('active');
    });
  });
</script>



  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
        integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  {{{_sections.owner}}}
  <script>
     function handleRejectClick(event) {
        event.preventDefault();
        const modal = document.getElementById('rejectSuccessModal');
        modal.classList.remove('tw-hidden');
        modal.setAttribute('aria-hidden', 'false');
    }
  </script>
</body>
</html>